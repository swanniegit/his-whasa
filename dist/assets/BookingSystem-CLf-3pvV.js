import{u as z,s as T,j as a,c as L}from"./index-C1SobZH1.js";import{r as y}from"./vendor-C1JoJ-56.js";import"./ui-m8UtK-mZ.js";import"./supabase-Dt6lMAzC.js";function R(r){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(r)}function E(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function C(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function D(r){C(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||R(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ne(r,e){C(2,arguments);var t=D(r),n=E(e);if(isNaN(n))return new Date(NaN);if(!n)return t;var s=t.getDate(),i=new Date(t.getTime());i.setMonth(t.getMonth()+n+1,0);var o=i.getDate();return s>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),s),t)}function ce(r,e){C(2,arguments);var t=D(r).getTime(),n=E(e);return new Date(t+n)}var ue={};function $(){return ue}function me(r,e){var t,n,s,i,o,h;C(1,arguments);var x=$(),m=E((t=(n=(s=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&s!==void 0?s:x.weekStartsOn)!==null&&n!==void 0?n:(o=x.locale)===null||o===void 0||(h=o.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&t!==void 0?t:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=D(r),p=g.getDay(),l=(p<m?7:0)+p-m;return g.setDate(g.getDate()-l),g.setHours(0,0,0,0),g}function he(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function Z(r){C(1,arguments);var e=D(r);return e.setHours(0,0,0,0),e}function fe(r,e){C(2,arguments);var t=Z(r),n=Z(e);return t.getTime()===n.getTime()}function ge(r){return C(1,arguments),r instanceof Date||R(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function ve(r){if(C(1,arguments),!ge(r)&&typeof r!="number")return!1;var e=D(r);return!isNaN(Number(e))}function xe(r){C(1,arguments);var e=D(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function pe(r,e){var t;C(1,arguments);var n=r||{},s=D(n.start),i=D(n.end),o=i.getTime();if(!(s.getTime()<=o))throw new RangeError("Invalid interval");var h=[],x=s;x.setHours(0,0,0,0);var m=Number((t=void 0)!==null&&t!==void 0?t:1);if(m<1||isNaN(m))throw new RangeError("`options.step` must be a number greater than 1");for(;x.getTime()<=o;)h.push(D(x)),x.setDate(x.getDate()+m),x.setHours(0,0,0,0);return h}function ye(r){C(1,arguments);var e=D(r);return e.setDate(1),e.setHours(0,0,0,0),e}function be(r,e){var t,n,s,i,o,h;C(1,arguments);var x=$(),m=E((t=(n=(s=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&s!==void 0?s:x.weekStartsOn)!==null&&n!==void 0?n:(o=x.locale)===null||o===void 0||(h=o.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&t!==void 0?t:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=D(r),p=g.getDay(),l=(p<m?-7:0)+6-(p-m);return g.setDate(g.getDate()+l),g.setHours(23,59,59,999),g}function we(r,e){C(2,arguments);var t=E(e);return ce(r,-t)}var _e=864e5;function je(r){C(1,arguments);var e=D(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),s=t-n;return Math.floor(s/_e)+1}function Q(r){C(1,arguments);var e=1,t=D(r),n=t.getUTCDay(),s=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-s),t.setUTCHours(0,0,0,0),t}function se(r){C(1,arguments);var e=D(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var s=Q(n),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=Q(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Ne(r){C(1,arguments);var e=se(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Q(t);return n}var ke=6048e5;function Ce(r){C(1,arguments);var e=D(r),t=Q(e).getTime()-Ne(e).getTime();return Math.round(t/ke)+1}function X(r,e){var t,n,s,i,o,h,x,m;C(1,arguments);var g=$(),p=E((t=(n=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(h=o.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&s!==void 0?s:g.weekStartsOn)!==null&&n!==void 0?n:(x=g.locale)===null||x===void 0||(m=x.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&t!==void 0?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=D(r),u=l.getUTCDay(),v=(u<p?7:0)+u-p;return l.setUTCDate(l.getUTCDate()-v),l.setUTCHours(0,0,0,0),l}function oe(r,e){var t,n,s,i,o,h,x,m;C(1,arguments);var g=D(r),p=g.getUTCFullYear(),l=$(),u=E((t=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(h=o.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:l.firstWeekContainsDate)!==null&&n!==void 0?n:(x=l.locale)===null||x===void 0||(m=x.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(p+1,0,u),v.setUTCHours(0,0,0,0);var d=X(v,e),c=new Date(0);c.setUTCFullYear(p,0,u),c.setUTCHours(0,0,0,0);var w=X(c,e);return g.getTime()>=d.getTime()?p+1:g.getTime()>=w.getTime()?p:p-1}function Me(r,e){var t,n,s,i,o,h,x,m;C(1,arguments);var g=$(),p=E((t=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(h=o.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:g.firstWeekContainsDate)!==null&&n!==void 0?n:(x=g.locale)===null||x===void 0||(m=x.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&t!==void 0?t:1),l=oe(r,e),u=new Date(0);u.setUTCFullYear(l,0,p),u.setUTCHours(0,0,0,0);var v=X(u,e);return v}var Se=6048e5;function De(r,e){C(1,arguments);var t=D(r),n=X(t,e).getTime()-Me(t,e).getTime();return Math.round(n/Se)+1}function k(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var W={y:function(e,t){var n=e.getUTCFullYear(),s=n>0?n:1-n;return k(t==="yy"?s%100:s,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):k(n+1,2)},d:function(e,t){return k(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return k(e.getUTCHours()%12||12,t.length)},H:function(e,t){return k(e.getUTCHours(),t.length)},m:function(e,t){return k(e.getUTCMinutes(),t.length)},s:function(e,t){return k(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,n-3));return k(i,t.length)}},q={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Oe={G:function(e,t,n){var s=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return W.y(e,t)},Y:function(e,t,n,s){var i=oe(e,s),o=i>0?i:1-i;if(t==="YY"){var h=o%100;return k(h,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):k(o,t.length)},R:function(e,t){var n=se(e);return k(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return k(n,t.length)},Q:function(e,t,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return k(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return k(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){var s=e.getUTCMonth();switch(t){case"M":case"MM":return W.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){var s=e.getUTCMonth();switch(t){case"L":return String(s+1);case"LL":return k(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){var i=De(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):k(i,t.length)},I:function(e,t,n){var s=Ce(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):k(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):W.d(e,t)},D:function(e,t,n){var s=je(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):k(s,t.length)},E:function(e,t,n){var s=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return k(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return k(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var s=e.getUTCDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return k(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var s=e.getUTCHours(),i;switch(s===12?i=q.noon:s===0?i=q.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var s=e.getUTCHours(),i;switch(s>=17?i=q.evening:s>=12?i=q.afternoon:s>=4?i=q.morning:i=q.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return W.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):W.H(e,t)},K:function(e,t,n){var s=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):k(s,t.length)},k:function(e,t,n){var s=e.getUTCHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):k(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):W.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):W.s(e,t)},S:function(e,t){return W.S(e,t)},X:function(e,t,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return te(o);case"XXXX":case"XX":return Y(o);case"XXXXX":case"XXX":default:return Y(o,":")}},x:function(e,t,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return te(o);case"xxxx":case"xx":return Y(o);case"xxxxx":case"xxx":default:return Y(o,":")}},O:function(e,t,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ee(o,":");case"OOOO":default:return"GMT"+Y(o,":")}},z:function(e,t,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ee(o,":");case"zzzz":default:return"GMT"+Y(o,":")}},t:function(e,t,n,s){var i=s._originalDate||e,o=Math.floor(i.getTime()/1e3);return k(o,t.length)},T:function(e,t,n,s){var i=s._originalDate||e,o=i.getTime();return k(o,t.length)}};function ee(r,e){var t=r>0?"-":"+",n=Math.abs(r),s=Math.floor(n/60),i=n%60;if(i===0)return t+String(s);var o=e;return t+String(s)+o+k(i,2)}function te(r,e){if(r%60===0){var t=r>0?"-":"+";return t+k(Math.abs(r)/60,2)}return Y(r,e)}function Y(r,e){var t=e||"",n=r>0?"-":"+",s=Math.abs(r),i=k(Math.floor(s/60),2),o=k(s%60,2);return n+i+t+o}var ae=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ie=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Te=function(e,t){var n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return ae(e,t);var o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",ae(s,t)).replace("{{time}}",ie(i,t))},Ee={p:ie,P:Te},Pe=["D","DD"],We=["YY","YYYY"];function Ue(r){return Pe.indexOf(r)!==-1}function Be(r){return We.indexOf(r)!==-1}function re(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Le=function(e,t,n){var s,i=Ye[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function V(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var Fe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},He={date:V({formats:Fe,defaultWidth:"full"}),time:V({formats:qe,defaultWidth:"full"}),dateTime:V({formats:$e,defaultWidth:"full"})},Ae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ie=function(e,t,n,s){return Ae[e]};function H(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",s;if(n==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):i;s=r.formattingValues[o]||r.formattingValues[i]}else{var h=r.defaultWidth,x=t!=null&&t.width?String(t.width):r.defaultWidth;s=r.values[x]||r.values[h]}var m=r.argumentCallback?r.argumentCallback(e):e;return s[m]}}var Re={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Je=function(e,t){var n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ke={ordinalNumber:Je,era:H({values:Re,defaultWidth:"wide"}),quarter:H({values:Qe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:H({values:Xe,defaultWidth:"wide"}),day:H({values:Ge,defaultWidth:"wide"}),dayPeriod:H({values:Ve,defaultWidth:"wide",formattingValues:ze,defaultFormattingWidth:"wide"})};function A(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,s=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],h=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],x=Array.isArray(h)?et(h,function(p){return p.test(o)}):Ze(h,function(p){return p.test(o)}),m;m=r.valueCallback?r.valueCallback(x):x,m=t.valueCallback?t.valueCallback(m):m;var g=e.slice(o.length);return{value:m,rest:g}}}function Ze(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function et(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function tt(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var s=n[0],i=e.match(r.parsePattern);if(!i)return null;var o=r.valueCallback?r.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var h=e.slice(s.length);return{value:o,rest:h}}}var at=/^(\d+)(th|st|nd|rd)?/i,rt=/\d+/i,nt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},st={any:[/^b/i,/^(a|c)/i]},ot={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},it={any:[/1/i,/2/i,/3/i,/4/i]},lt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ct={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ut={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ht={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ft={ordinalNumber:tt({matchPattern:at,parsePattern:rt,valueCallback:function(e){return parseInt(e,10)}}),era:A({matchPatterns:nt,defaultMatchWidth:"wide",parsePatterns:st,defaultParseWidth:"any"}),quarter:A({matchPatterns:ot,defaultMatchWidth:"wide",parsePatterns:it,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:A({matchPatterns:lt,defaultMatchWidth:"wide",parsePatterns:dt,defaultParseWidth:"any"}),day:A({matchPatterns:ct,defaultMatchWidth:"wide",parsePatterns:ut,defaultParseWidth:"any"}),dayPeriod:A({matchPatterns:mt,defaultMatchWidth:"any",parsePatterns:ht,defaultParseWidth:"any"})},gt={code:"en-US",formatDistance:Le,formatLong:He,formatRelative:Ie,localize:Ke,match:ft,options:{weekStartsOn:0,firstWeekContainsDate:1}},vt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pt=/^'([^]*?)'?$/,yt=/''/g,bt=/[a-zA-Z]/;function U(r,e,t){var n,s,i,o,h,x,m,g,p,l,u,v,d,c;C(2,arguments);var w=String(e),O=$(),N=(n=(s=void 0)!==null&&s!==void 0?s:O.locale)!==null&&n!==void 0?n:gt,f=E((i=(o=(h=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&h!==void 0?h:O.firstWeekContainsDate)!==null&&o!==void 0?o:(m=O.locale)===null||m===void 0||(g=m.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=E((p=(l=(u=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&u!==void 0?u:O.weekStartsOn)!==null&&l!==void 0?l:(d=O.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&p!==void 0?p:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var S=D(r);if(!ve(S))throw new RangeError("Invalid time value");var F=he(S),B=we(S,F),G={firstWeekContainsDate:f,weekStartsOn:M,locale:N,_originalDate:S},_=w.match(xt).map(function(j){var b=j[0];if(b==="p"||b==="P"){var P=Ee[b];return P(j,N.formatLong)}return j}).join("").match(vt).map(function(j){if(j==="''")return"'";var b=j[0];if(b==="'")return wt(j);var P=Oe[b];if(P)return Be(j)&&re(j,e,String(r)),Ue(j)&&re(j,e,String(r)),P(B,j,N.localize,G);if(b.match(bt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return j}).join("");return _}function wt(r){var e=r.match(pt);return e?e[1].replace(yt,"'"):r}function _t(r,e){C(2,arguments);var t=D(r),n=D(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function jt(r){return C(1,arguments),fe(r,Date.now())}function Nt(r,e){C(2,arguments);var t=E(e);return ne(r,-t)}const J=()=>{const[r,e]=y.useState([]),[t,n]=y.useState(!1),[s,i]=y.useState(null),{user:o}=z(),h=y.useCallback(async l=>{if(o)try{n(!0),i(null);let u=T.from("nurse_bookings").select(`
          *,
          nurse:nurse_staff(*),
          intervention_type:intervention_types(*),
          place:places(*)
        `).order("booking_date",{ascending:!0}).order("slot_time",{ascending:!0});l!=null&&l.date&&(u=u.eq("booking_date",l.date)),l!=null&&l.nurse_id&&(u=u.eq("nurse_id",l.nurse_id)),l!=null&&l.intervention_type_id&&(u=u.eq("intervention_type_id",l.intervention_type_id)),l!=null&&l.place_id&&(u=u.eq("place_id",l.place_id)),l!=null&&l.status&&(u=u.eq("status",l.status)),l!=null&&l.payment_method&&(u=u.eq("payment_method",l.payment_method));const{data:v,error:d}=await u;if(d)throw d;e(v||[])}catch(u){console.error("Error fetching bookings:",u),i(u instanceof Error?u.message:"Failed to fetch bookings")}finally{n(!1)}},[o]),x=y.useCallback(async l=>{if(!o)return console.error("User not authenticated for booking creation"),{success:!1,error:"User not authenticated"};try{const{data:u,error:v}=await T.from("nurse_bookings").insert({...l,created_by:o.id,updated_by:o.id}).select(`
          *,
          nurse:nurse_staff(*),
          intervention_type:intervention_types(*),
          place:places(*)
        `).single();if(v)throw v;return e(d=>[...d,u]),{success:!0,data:u}}catch(u){return console.error("Error creating booking:",u),{success:!1,error:u instanceof Error?u.message:"Failed to create booking"}}},[o]),m=y.useCallback(async(l,u)=>{if(!o)return{success:!1,error:"User not authenticated"};try{const{data:v,error:d}=await T.from("nurse_bookings").update({...u,updated_by:o.id}).eq("id",l).select(`
          *,
          nurse:nurse_staff(*),
          intervention_type:intervention_types(*),
          place:places(*)
        `).single();if(d)throw d;return e(c=>c.map(w=>w.id===l?v:w)),{success:!0,data:v}}catch(v){return console.error("Error updating booking:",v),{success:!1,error:v instanceof Error?v.message:"Failed to update booking"}}},[o]),g=y.useCallback(async l=>{if(!o)return{success:!1,error:"User not authenticated"};try{const{error:u}=await T.from("nurse_bookings").delete().eq("id",l);if(u)throw u;return e(v=>v.filter(d=>d.id!==l)),{success:!0}}catch(u){return console.error("Error deleting booking:",u),{success:!1,error:u instanceof Error?u.message:"Failed to delete booking"}}},[o]),p=y.useCallback(async l=>{if(!o)return null;try{const{data:u,error:v}=await T.from("nurse_bookings").select(`
          *,
          nurse:nurse_staff(*),
          intervention_type:intervention_types(*),
          place:places(*)
        `).eq("id",l).single();if(v)throw v;return u}catch(u){return console.error("Error fetching booking:",u),null}},[o]);return y.useEffect(()=>{h()},[h]),{bookings:r,loading:t,error:s,createBooking:x,updateBooking:m,deleteBooking:g,getBookings:h,getBooking:p}},K=()=>{const[r,e]=y.useState([]),[t,n]=y.useState(!1),[s,i]=y.useState(null),{user:o}=z(),h=y.useCallback(async p=>{if(!o)return[];try{const{data:l,error:u}=await T.from("nurse_oncall").select(`
          *,
          nurse:nurse_staff(*)
        `).eq("oncall_date",p).order("call_type",{ascending:!0});if(u)throw u;return l||[]}catch(l){return console.error("Error fetching oncall for date:",l),[]}},[o]),x=y.useCallback(async(p,l)=>{if(!o)return[];try{const{data:u,error:v}=await T.from("nurse_oncall").select(`
          *,
          nurse:nurse_staff(*)
        `).gte("oncall_date",p).lte("oncall_date",l).order("oncall_date",{ascending:!0}).order("call_type",{ascending:!0});if(v)throw v;return u||[]}catch(u){return console.error("Error fetching oncall for month:",u),[]}},[o]),m=y.useCallback(async p=>{if(!o)return{success:!1,error:"User not authenticated"};try{const{data:l,error:u}=await T.from("nurse_oncall").insert({...p,created_by:o.id}).select(`
          *,
          nurse:nurse_staff(*)
        `).single();if(u)throw u;return e(v=>[...v,l]),{success:!0,data:l}}catch(l){return console.error("Error creating oncall assignment:",l),{success:!1,error:l instanceof Error?l.message:"Failed to create oncall assignment"}}},[o]),g=y.useCallback(async p=>{if(!o)return{success:!1,error:"User not authenticated"};try{const{error:l}=await T.from("nurse_oncall").delete().eq("id",p);if(l)throw l;return e(u=>u.filter(v=>v.id!==p)),{success:!0}}catch(l){return console.error("Error deleting oncall assignment:",l),{success:!1,error:l instanceof Error?l.message:"Failed to delete oncall assignment"}}},[o]);return y.useEffect(()=>{(async()=>{if(o)try{n(!0),i(null);const l=new Date;l.setMonth(l.getMonth()-1);const u=new Date;u.setMonth(u.getMonth()+1);const v=await x(l.toISOString().split("T")[0]||"",u.toISOString().split("T")[0]||"");e(v)}catch(l){console.error("Error loading oncall data:",l),i(l instanceof Error?l.message:"Failed to load oncall data")}finally{n(!1)}})()},[o]),{oncall_assignments:r,loading:t,error:s,createOncall:m,deleteOncall:g,getOncallForDate:h,getOncallForMonth:x}},I=()=>{const[r,e]=y.useState([]),[t,n]=y.useState([]),[s,i]=y.useState([]),[o,h]=y.useState(!1),[x,m]=y.useState(null),{user:g}=z(),p=y.useCallback(async()=>{if(g)try{console.log("Loading nurses...");const{data:d,error:c}=await T.from("nurse_staff").select("*").eq("is_active",!0).order("name",{ascending:!0});if(c)throw c;console.log("Nurses loaded:",(d==null?void 0:d.length)||0),e(d||[])}catch(d){console.error("Error loading nurses:",d),m(d instanceof Error?d.message:"Failed to load nurses")}},[g]),l=y.useCallback(async()=>{if(g)try{console.log("Loading intervention types...");const{data:d,error:c}=await T.from("intervention_types").select("*").eq("is_active",!0).order("name",{ascending:!0});if(c)throw c;console.log("Intervention types loaded:",(d==null?void 0:d.length)||0),n(d||[])}catch(d){console.error("Error loading intervention types:",d),m(d instanceof Error?d.message:"Failed to load intervention types")}},[g]),u=y.useCallback(async()=>{if(g)try{console.log("Loading places...");const{data:d,error:c}=await T.from("places").select("*").eq("is_active",!0).order("name",{ascending:!0});if(c)throw c;console.log("Places loaded:",(d==null?void 0:d.length)||0),i(d||[])}catch(d){console.error("Error loading places:",d),m(d instanceof Error?d.message:"Failed to load places")}},[g]),v=y.useCallback(async()=>{h(!0),m(null);try{await Promise.all([p(),l(),u()])}catch(d){console.error("Error refreshing reference data:",d),m(d instanceof Error?d.message:"Failed to refresh data")}finally{h(!1)}},[p,l,u]);return y.useEffect(()=>{g?v():(e([]),n([]),i([]),h(!1))},[g,v]),{nurses:r,intervention_types:t,places:s,loading:o,error:x,refreshData:v}},kt=({onDateClick:r,onMonthChange:e,selectedDate:t,bookings:n,oncall_assignments:s})=>{const[i,o]=y.useState(new Date),[h,x]=y.useState([]),{nurses:m}=I();y.useEffect(()=>{(()=>{const c=me(ye(i)),w=be(xe(i)),N=pe({start:c,end:w}).map(f=>{const M=U(f,"yyyy-MM-dd"),S=n.filter(B=>B.booking_date===M),F=s.filter(B=>B.oncall_date===M);return{date:M,day:f.getDate(),month:f.getMonth(),year:f.getFullYear(),is_current_month:_t(f,i),is_today:jt(f),booking_count:S.length,oncall_assignments:F,has_bookings:S.length>0,has_oncall:F.length>0}});x(N)})()},[i,n,s]);const g=()=>{const d=Nt(i,1);o(d),e==null||e(d.getFullYear(),d.getMonth())},p=()=>{const d=ne(i,1);o(d),e==null||e(d.getFullYear(),d.getMonth())},l=d=>{let c="p-2 text-center cursor-pointer hover:bg-gray-50 transition-colors min-h-[80px] flex flex-col";return d.is_current_month?d.is_today&&(c+=" bg-blue-100 font-semibold"):c+=" text-gray-400",d.has_bookings&&(c+=" bg-green-50"),d.has_oncall&&(c+=" bg-purple-50"),t===d.date&&(c+=" ring-2 ring-blue-500"),c},u=d=>{const c=m.find(w=>w.id===d);return(c==null?void 0:c.color_code)||"#6b7280"},v=d=>{if(d.length===0)return"";const c=d.map(w=>u(w.nurse_id));return c.length===1?`linear-gradient(45deg, ${c[0]}20, ${c[0]}40)`:`linear-gradient(45deg, ${c[0]}20, ${c[1]}40)`};return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[a.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-gray-200 transition-colors","aria-label":"Previous month",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:U(i,"MMMM yyyy")}),a.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-gray-200 transition-colors","aria-label":"Next month",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsxs("div",{className:"grid grid-cols-7",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(d=>a.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 bg-gray-50 border-b border-r",children:d},d)),h.map(d=>a.jsxs("div",{className:`border-r border-b ${l(d)}`,onClick:()=>r(d.date),style:{background:d.has_oncall?v(d.oncall_assignments):void 0},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-sm ${d.is_today?"font-bold":""}`,children:d.day}),d.booking_count>0&&a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium bg-green-500 text-white rounded-full",children:d.booking_count})]}),d.oncall_assignments.length>0&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:d.oncall_assignments.map(c=>{var w;return a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:u(c.nurse_id)},title:`${(w=c.nurse)==null?void 0:w.name} - ${c.call_type.replace("_"," ")}`},c.id)})}),d.has_bookings&&!d.has_oncall&&a.jsx("div",{className:"mt-1",children:a.jsx("div",{className:"w-full h-1 bg-green-300 rounded"})})]},d.date))]}),a.jsx("div",{className:"p-4 bg-gray-50 border-t",children:a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-200 rounded"}),a.jsx("span",{children:"Has bookings"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-purple-50 border border-purple-200 rounded"}),a.jsx("span",{children:"On-call assigned"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-200 rounded"}),a.jsx("span",{children:"Today"})]})]})})]})},le=({isOpen:r,onClose:e,booking:t,date:n,time:s,mode:i})=>{console.log("BookingModal rendered with props:",{isOpen:r,mode:i,date:n,time:s});const[o,h]=y.useState({nurse_id:"",patient_name:"",patient_id_case_assess:"",booking_date:n||U(new Date,"yyyy-MM-dd"),slot_time:s||"08:00",intervention_type_id:"",place_id:"",outstanding_amount:0,paid_amount:0,payment_method:"pending",notes:""}),[x,m]=y.useState(!1),{nurses:g,intervention_types:p,places:l}=I(),{createBooking:u,updateBooking:v}=J(),d=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"];y.useEffect(()=>{t&&i==="edit"&&h({nurse_id:t.nurse_id||"",patient_name:t.patient_name,patient_id_case_assess:t.patient_id_case_assess||"",booking_date:t.booking_date,slot_time:t.slot_time,intervention_type_id:t.intervention_type_id||"",place_id:t.place_id||"",outstanding_amount:t.outstanding_amount,paid_amount:t.paid_amount,payment_method:t.payment_method,notes:t.notes||""})},[t,i]);const c=(f,M)=>{h(S=>({...S,[f]:M}))},w=async f=>{f.preventDefault(),m(!0);const M={patient_name:o.patient_name,booking_date:o.booking_date,slot_time:o.slot_time,outstanding_amount:o.outstanding_amount,paid_amount:o.paid_amount,payment_method:o.payment_method,...o.nurse_id&&{nurse_id:o.nurse_id},...o.intervention_type_id&&{intervention_type_id:o.intervention_type_id},...o.place_id&&{place_id:o.place_id},...o.patient_id_case_assess&&{patient_id_case_assess:o.patient_id_case_assess},...o.notes&&{notes:o.notes}};try{let S;if(i==="create")S=await u(M);else if(i==="edit"&&t)S=await v(t.id,M);else{L.error("Invalid operation mode"),m(!1);return}S.success?(L.success(i==="create"?"Booking created successfully":"Booking updated successfully"),e()):L.error(S.error||"Failed to save booking")}catch(S){console.error("Error saving booking:",S),L.error("An unexpected error occurred")}finally{m(!1)}},N=(()=>{const{outstanding_amount:f,paid_amount:M}=o;return f===0&&M===0?"no_payment":M>=f?"paid":M>0?"partial":"outstanding"})();return r?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i==="create"?"New Booking":i==="edit"?"Edit Booking":"View Booking"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("form",{onSubmit:w,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Patient Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Name *"}),a.jsx("input",{type:"text",required:!0,className:"clinical-input",value:o.patient_name,onChange:f=>c("patient_name",f.target.value),placeholder:"Enter patient name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID/Case/Assess"}),a.jsx("input",{type:"text",className:"clinical-input",value:o.patient_id_case_assess,onChange:f=>c("patient_id_case_assess",f.target.value),placeholder:"Optional patient identifier"})]})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Scheduling"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),a.jsx("input",{type:"date",required:!0,className:"clinical-input",value:o.booking_date,onChange:f=>c("booking_date",f.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),a.jsx("select",{required:!0,className:"clinical-input",value:o.slot_time,onChange:f=>c("slot_time",f.target.value),children:d.map(f=>a.jsx("option",{value:f,children:f},f))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nurse"}),a.jsxs("select",{className:"clinical-input",value:o.nurse_id,onChange:f=>c("nurse_id",f.target.value),children:[a.jsx("option",{value:"",children:"Select nurse"}),g.map(f=>a.jsx("option",{value:f.id,children:f.name},f.id))]})]})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Service Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intervention Type"}),a.jsxs("select",{className:"clinical-input",value:o.intervention_type_id,onChange:f=>c("intervention_type_id",f.target.value),children:[a.jsx("option",{value:"",children:"Select intervention type"}),p.map(f=>a.jsx("option",{value:f.id,children:f.name},f.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsxs("select",{className:"clinical-input",value:o.place_id,onChange:f=>c("place_id",f.target.value),children:[a.jsx("option",{value:"",children:"Select location"}),l.map(f=>a.jsx("option",{value:f.id,children:f.name},f.id))]})]})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Payment Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outstanding Amount"}),a.jsx("input",{type:"text",className:"clinical-input",value:o.outstanding_amount===0?"":o.outstanding_amount.toString(),onChange:f=>{const M=f.target.value,S=M===""?0:parseFloat(M)||0;c("outstanding_amount",S)},placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paid Amount"}),a.jsx("input",{type:"text",className:"clinical-input",value:o.paid_amount===0?"":o.paid_amount.toString(),onChange:f=>{const M=f.target.value,S=M===""?0:parseFloat(M)||0;c("paid_amount",S)},placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),a.jsxs("select",{className:"clinical-input",value:o.payment_method,onChange:f=>c("payment_method",f.target.value),children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"credit_card",children:"Credit Card"})]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${N==="paid"?"bg-green-100 text-green-800":N==="partial"?"bg-yellow-100 text-yellow-800":N==="outstanding"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:N==="paid"?"Paid":N==="partial"?"Partial Payment":N==="outstanding"?"Outstanding":"No Payment"})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{rows:3,className:"clinical-input",value:o.notes,onChange:f=>c("notes",f.target.value),placeholder:"Additional notes about the booking..."})]})]})}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i!=="view"&&a.jsx("button",{type:"submit",disabled:x,className:"clinical-button-primary px-4 py-2",children:x?"Saving...":i==="create"?"Create Booking":"Update Booking"})]})]})}):null},Ct=({isOpen:r,onClose:e,date:t})=>{const[n,s]=y.useState(null),[i,o]=y.useState(!1),[h,x]=y.useState("create"),[m,g]=y.useState(""),{bookings:p,deleteBooking:l}=J(),{oncall_assignments:u}=K(),{nurses:v}=I(),d=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],c=p.filter(_=>_.booking_date===t),w=u.filter(_=>_.oncall_date===t),O=_=>{const j=v.find(b=>b.id===_);return(j==null?void 0:j.color_code)||"#6b7280"},N=_=>_.length===8&&_[2]===":"&&_[5]===":"?_.substring(0,5):_.trim(),f=_=>{const{outstanding_amount:j,paid_amount:b}=_;return j===0&&b===0?{type:"no_payment",label:"No Payment",color:"bg-gray-100 text-gray-800"}:b>=j?{type:"paid",label:"Paid",color:"bg-green-100 text-green-800"}:b>0?{type:"partial",label:"Partial",color:"bg-yellow-100 text-yellow-800"}:{type:"outstanding",label:"Outstanding",color:"bg-red-100 text-red-800"}},M=_=>{g(_),x("create"),o(!0)},S=_=>{s(_),x("edit"),o(!0)},F=_=>{s(_),x("view"),o(!0)},B=async _=>{if(window.confirm(`Are you sure you want to delete the booking for ${_.patient_name}?`)){const j=await l(_.id);j!=null&&j.success}},G=()=>{o(!1),s(null),g("")};return r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Schedule for ",U(new Date(t),"EEEE, MMMM d, yyyy")]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[c.length," booking(s) • ",w.length," on-call assignment(s)"]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[w.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium mb-3 text-gray-900",children:"On-Call Assignments"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(_=>{var j;return a.jsx("div",{className:"p-4 rounded-lg border",style:{borderLeftColor:O(_.nurse_id),borderLeftWidth:"4px"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:(j=_.nurse)==null?void 0:j.name}),a.jsxs("div",{className:"text-sm text-gray-600 capitalize",children:[_.call_type.replace("_"," ")," call"]})]}),a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:O(_.nurse_id)}})]})},_.id)})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium mb-3 text-gray-900",children:"Time Slots"}),d.map(_=>{const j=c.filter(b=>{const P=N(b.slot_time),de=N(_);return P===de});return a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center border-b bg-gray-50 px-4 py-3",children:[a.jsx("div",{className:"w-20 text-sm font-medium text-gray-700",children:_}),a.jsx("div",{className:"flex-1 ml-4",children:j.length>0?a.jsxs("span",{className:"text-sm text-gray-600",children:[j.length," booking",j.length!==1?"s":""]}):a.jsx("span",{className:"text-sm text-gray-400",children:"Available"})}),a.jsx("button",{onClick:()=>M(_),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Add Booking"})]}),a.jsx("div",{className:"p-4",children:j.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(b=>{const P=f(b);return a.jsx("div",{className:"bg-white border rounded p-3 flex-1 min-w-0 max-w-xs",style:{backgroundColor:O(b.nurse_id||"")+"10",borderLeftColor:O(b.nurse_id||""),borderLeftWidth:"4px"},children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900 text-sm truncate",children:b.patient_name}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>F(b),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"View details",children:a.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),a.jsx("button",{onClick:()=>S(b),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit booking",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:()=>B(b),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete booking",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),b.patient_id_case_assess&&a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded mb-2 inline-block",children:b.patient_id_case_assess}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[b.nurse&&a.jsx("p",{className:"text-blue-600",children:b.nurse.name}),b.intervention_type&&a.jsx("p",{className:"text-green-600",children:b.intervention_type.name}),b.place&&a.jsx("p",{className:"text-purple-600",children:b.place.name}),b.payment_method&&a.jsx("p",{children:b.payment_method}),(b.outstanding_amount>0||b.paid_amount>0)&&a.jsxs("p",{children:[b.outstanding_amount>0&&`Outstanding: $${b.outstanding_amount}`,b.outstanding_amount>0&&b.paid_amount>0&&" | ",b.paid_amount>0&&`Paid: $${b.paid_amount}`]})]}),b.notes&&a.jsx("p",{className:"text-xs text-gray-600 mt-2 line-clamp-2",children:b.notes}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${P.color}`,children:P.label})})]})},b.id)})})})]},_)})]})]}),a.jsx("div",{className:"p-6 border-t bg-gray-50",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",c.length," booking(s) • ",w.length," on-call assignment(s)"]}),a.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})})]})}),i&&n&&a.jsx(le,{isOpen:i,onClose:G,booking:n,date:t,time:m,mode:h})]}):null},Mt=({onClose:r,date:e})=>{var v,d;const[t,n]=y.useState([]),[s,i]=y.useState(!1),{nurses:o}=I(),{createOncall:h,deleteOncall:x,oncall_assignments:m}=K(),g=y.useMemo(()=>m.filter(c=>c.oncall_date===e),[m,e]);y.useEffect(()=>{if(g.length>0){const c=g.map(w=>({nurse_id:w.nurse_id,oncall_date:w.oncall_date,call_type:w.call_type}));n(c)}else n([{nurse_id:"",oncall_date:e||U(new Date,"yyyy-MM-dd"),call_type:"first_call"},{nurse_id:"",oncall_date:e||U(new Date,"yyyy-MM-dd"),call_type:"second_call"}])},[g,e]);const p=y.useCallback((c,w)=>{n(O=>O.map(N=>N.call_type===c?{...N,nurse_id:w}:N))},[]),l=async c=>{c.preventDefault(),i(!0);try{for(const N of g)await x(N.id);(await Promise.all(t.filter(N=>N.nurse_id).map(N=>h(N)))).some(N=>!N.success)?L.error("Some assignments could not be saved"):(L.success("On-call assignments updated successfully!"),r())}catch(w){console.error("Error updating on-call assignments:",w),L.error("An unexpected error occurred")}finally{i(!1)}},u=y.useCallback(c=>{const w=o.find(O=>O.id===c);return(w==null?void 0:w.color_code)||"#6b7280"},[o]);return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"On-Call Assignments"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:U(new Date(e||new Date),"EEEE, MMMM d, yyyy")})]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:l,className:"p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Call"}),a.jsxs("select",{value:((v=t.find(c=>c.call_type==="first_call"))==null?void 0:v.nurse_id)||"",onChange:c=>p("first_call",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select a nurse"}),o.map(c=>a.jsx("option",{value:c.id,children:c.name},c.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Second Call"}),a.jsxs("select",{value:((d=t.find(c=>c.call_type==="second_call"))==null?void 0:d.nurse_id)||"",onChange:c=>p("second_call",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select a nurse"}),o.map(c=>a.jsx("option",{value:c.id,children:c.name},c.id))]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview"}),a.jsx("div",{className:"space-y-2",children:t.map(c=>{const w=o.find(O=>O.id===c.nurse_id);return a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:u(c.nurse_id)}}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[c.call_type==="first_call"?"First Call":"Second Call",":"]}),a.jsx("span",{className:"text-sm text-gray-600",children:w?w.name:"Unassigned"})]},c.call_type)})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Saving...":"Save Assignments"})]})]})]})})},Et=()=>{const[r,e]=y.useState(null),[t,n]=y.useState(!1),[s,i]=y.useState(!1),[o,h]=y.useState(!1),[x,m]=y.useState("create"),{bookings:g}=J(),{oncall_assignments:p}=K(),{loading:l,error:u}=I();return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading booking system..."}),a.jsx("p",{className:"text-gray-600",children:"This may take a few moments"})]})}):u?a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking System"}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Booking System"}),a.jsx("p",{className:"mt-2 text-sm text-red-700",children:u}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-3 bg-red-600 text-white px-4 py-2 rounded-md text-sm hover:bg-red-700",children:"Retry"})]})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking System"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Total Bookings"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:g.length})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Today's Bookings"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:g.filter(v=>v.booking_date===U(new Date,"yyyy-MM-dd")).length})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"On-Call Assignments"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:p.length})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("button",{onClick:()=>{console.log("New Booking button clicked"),m("create"),n(!0),console.log("Modal state set to:",{bookingModalMode:"create",showBookingModal:!0})},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"New Booking"}),a.jsx("button",{onClick:()=>h(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors",children:"Manage On-Call"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow",children:a.jsx(kt,{selectedDate:r||"",onDateClick:v=>{e(v),i(!0)},bookings:g,oncall_assignments:p})}),t&&a.jsx(le,{isOpen:t,mode:x,onClose:()=>n(!1),...r&&{date:r}}),s&&r&&a.jsx(Ct,{isOpen:s,onClose:()=>i(!1),date:r}),o&&a.jsx(Mt,{isOpen:o,onClose:()=>h(!1),...r&&{date:r}})]})})};export{Et as default};
//# sourceMappingURL=BookingSystem-CLf-3pvV.js.map
